<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>



  <script>
    // 预解析只会解析函数体外的内容
    // 函数体内的内容会在函数调用的时候进行预解析

    /*
      预解析
        告诉浏览器有一个 fn 变量可用，并且 fn 的值是一个函数地址

      代码执行
        fn()
          函数体内的预解析
            告诉浏览器在函数体内由一个 num 变量可以使用
          函数体内的代码执行
            console.log(num) // undefined
            num = 100 给 num 赋值
            console.log(num) // 100
    */
    // function fn() {
    //   console.log(num)
    //   var num = 100
    //   console.log(num)
    // }

    // fn()

    /*
      函数调用阶段的四个事情（熟读并背诵全文）
      1. 按照函数名内部存储的地址找到对应的函数存储空间
      2. 形参赋值
      3. 预解析
      4. 函数体内的代码执行（才开始解析变量）
    */

    /*
      预解析
        告诉浏览器有一个 fn 变量可以使用，并且值是一个函数地址

      代码执行
        fn()
          如果先做形参赋值
            + a 先等于 100
            + 在预解析阶段告诉浏览器函数 fn 内部的变量 a 是一个函数地址
            + a() 就没有问题
          如果先做预解析
            + 在预解析阶段告诉浏览器函数 fn 内部的变量 a 是一个函数地址
            + a = 100
            + a() 就会报错

      如果
        打开浏览器的时候，控制台打印 我是 a 函数，证明先是形参赋值后预解析
        打开浏览器的时候，报错了，证明先预解析后形参赋值
    */
    function fn(a) {
      a()

      function a() {
        console.log('我是 a 函数')
      }

    }

    fn(100)

  </script>
</body>
</html>
