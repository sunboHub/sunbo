# 复习

## es5 的 JSON

- json 是一个字符串
- 只不过是一个特殊格式的字符串
- 两个方法
  1. JSON.stringify(js 的对象或者数组)
  2. JSON.parse(json 格式的字符串)

## 自执行函数

- 就是再声明以后自己调用
  1. `(function () {})()`
  2. `!function () {}()`
  3. `~function () {}()`

## this 指向

- 每个函数都有一个自己的 this 指向
- this 指向和函数的定义没有关系（箭头函数除外），只看调用
  1. 全局调用 函数名() this => window
  2. 对象调用 对象.函数名() this => 点前面是谁就是谁
  3. 定时器处理函数 this => window
  4. 事件处理函数 this => 事件源（谁身上的事件）
  5. 自执行函数 this => window
  6. 箭头函数 this => 上下文（context），箭头函数外部作用域的 this

## 强行改变 this 指向

- 不管原先你的函数 this 指向谁，我让你指向谁就是谁
  1. call
    + 会立即执行函数
    + 第一个参数是要改变的 this 指向
    + 第二个参数开始依次向函数传递参数
  2. apply
    + 会立即执行函数
    + 第一个参数是要改变的 this 指向
    + 第二个参数是一个数组，数组里面每一项依次是给函数传递参数
  3. bind
    + 不会立即执行函数
    + 会返回一个已经被改变好 this 指向的新函数
    + 第一个参数是要改变的 this 指向
    + 给函数传递参数
      1. 可以再使用 bind 的时候从第二个参数开始依次传递参数
      2. 可以再调用返回的函数的时候，直接传递参数
  + 箭头函数，再定义的时候就已经绝对好 this 指向了
  + 这些方法改变不了箭头函数的 this 指向

## es6 定义变量

- 使用 let 和 const 关键字
  + let 叫做变量（可变）
  + const 叫做常量（不可变）
- 他们两个和 var 的区别
  1. 他们两个不能重复声明同一个变量
  2. 他们两个不会进行预解析
  3. 他们两个会生成一个块级作用域
- 他们两个的区别
  1. let 声明的时候可以不赋值，const 再声明的时候必须赋值
  3. let 声明的变量可以更改，const 声明的变量一经赋值不能更改

## es6 箭头函数

- 是对函数表达式（匿名函数）的一种简写形式
- 不能对声明式函数起作用
  + `const fn = (形参) => { 代码 }`

## 箭头函数的特性

1. 箭头函数内部没有 this
2. 箭头函数内部没有 arguments
3. 形参如果只有一个不需要写小括号
4. 代码只有一句的时候不需要写大括号
5. 如果没有写大括号，会自动把着一句话的结果返回

## 模板字符串

- 一种新的定义字符串的方式
- 使用反引号 （``）
- 和 es5 字符串的区别
  1. 可以换行书写
  2. 可以再字符串里面直接拼接变量
    + 拼接变量使用 ${ 变量 }

## 解构赋值

- 快速从数组或者对象中取出我需要的成员
  1. {} 解构对象
    `const { name } = obj`
    `const { name: a } = obj`
    `const { list: { name } } = obj`
  2. [] 解构数组
    `const [a, b] = arr`
    `const [a, [b, c]] = arr`

## ... 运算符

- 再解构数组和函数形参的位置是 合并
  `function fn(...a) {}`
  `function fn(a, ...b) {}`
  `const fn = (...a) => {}` 箭头函数使用 ... 运算符的时候，一个参数也要添加小括号
  `const [a, ...b] = arr`
- 其他位置是用的时候是 展开
  `Math.max(...arr)`
  `const arr = [1, 2, 3, ...arr2]`
  `const obj = { ...obj2, name: 'Jack' }`

## 对象的简写方式

1. 对象中如果 key 和 value 完全一致的情况下可以省略 value 不写
  ```javascript
    const name = 'Jack'
    const obj = {
      name
    }
  ```
2. 对象中的方法可以不需要 function 关键字
  ```javascript
    const obj = {
      fn: () => {}, // 不能再继续简写
      fun: function () {}, // 可以进行简写
      f () {}
    }
  ```
